<img src="3ã€DDLè¯­è¨€/image-20211026221527243.png" alt="image-20211026221527243" style="zoom:80%;" />

![1505726-e03e2775199cec3b](3ã€DDLè¯­è¨€(åˆ—ã€å­—æ®µ)/1505726-e03e2775199cec3b.png)

> è¯´æ˜:
>

### ğŸ’–[] 

è¡¨ç¤ºå¯ä»¥é€‰æ‹©ä½¿ç”¨

### db_nã€t_n

è¡¨ç¤ºæ•°æ®åº“åã€è¡¨å

### create

åˆ›å»º

### alter

ä¿®æ”¹

### drop

åˆ é™¤



## ä¸€ã€æ•°æ®==åº“==æ“ä½œ

> æ˜¾ç¤ºæ•°æ®åº“ï¼š
>
> ```mysql
> show datebases;
> 
> -- æ˜¾ç¤ºåˆ›å»ºçš„SQLè¯­å¥
> show create database db_1;	
> ```
> ä½¿ç”¨æ•°æ®åº“ï¼š
>
> ```mysql
> use db_1;
> ```



### 1ã€åˆ›å»º

```mysql
create database [if not exists] db_1 [charset utf8MB4] [collate utf8mb4_general_ci];

#å¸¸è§çš„ä½¿ç”¨
create database if not exists db_1

-- ç”±äºåˆšå®‰è£…çš„mysqlé»˜è®¤ç¼–ç ä¸ºlatin1,
-- åœ¨cmdå®¢æˆ·ç«¯åˆ›å»ºæ•°æ®åº“æ—¶æœ€å¥½è¦æœ€åŠ charset gbk
create database if not exists db_1 charset gbkâœ¨
```

### 2ã€ä¿®æ”¹*
```mysql
#â‘ ä¿®æ”¹åº“å
/*
	æ•°æ®åº“åå­—ä¸å¯ä¿®æ”¹ï¼ˆè€ç‰ˆæœ¬å¯ä»¥ï¼‰
		* å…ˆæ–°å¢
		* åè¿ç§»
		* æœ€ååˆ é™¤
*/

#â‘¡ä¿®æ”¹åº“é€‰é¡¹
-- å­—ç¬¦é›†
alter database db_2 charset gbk;

-- æ ¡å¯¹é›†
alter database db_3 charset gbk collate gbk_chinese_ci;

```


### 3ã€åˆ é™¤

```mysql
drop database db_1;
```



## äºŒã€SQL==è¡¨==(å­—æ®µ)æ“ä½œ

> 1ã€è¡¨åˆ›å»ºæ—¶éœ€è¦æŒ‡å®šå­˜å‚¨çš„æ•°æ®åº“
>
> * æ˜ç¡®æŒ‡å®šæ•°æ®åº“ï¼š`æ•°æ®åº“.è¡¨å`âœ¨
> * å…ˆä½¿ç”¨æ•°æ®åº“ï¼š`use æ•°æ®åº“åå­—`
>
> 
>
> 2ã€è¡¨å¯ä»¥æŒ‡å®šè¡¨é€‰é¡¹ï¼ˆéƒ½æœ‰é»˜è®¤å€¼ï¼‰
>
> * å­˜å‚¨å¼•æ“ï¼šengine [=] å…·ä½“å­˜å‚¨å¼•æ“
> * å­—ç¬¦é›†ï¼š[default] charset å…·ä½“å­—ç¬¦é›†ï¼ˆç»§æ‰¿æ•°æ®åº“ï¼‰
> * æ ¡å¯¹é›†ï¼šcollateï¼ˆç»§æ‰¿æ•°æ®åº“ï¼‰



> æ˜¾ç¤ºSQLè¡¨ï¼š
>
> ```mysql
> show tables;
> 
> -- æ˜¾ç¤ºæŒ‡å®šæ•°æ®åº“çš„è¡¨
> show tables from db_3;
> -- æ˜¾ç¤ºåˆ›å»ºçš„è¡¨çš„SQLè¯­å¥âœ¨ ğŸ’–
> show create tables t_3[/G]
> ```
>
> æŸ¥çœ‹SQLè¡¨(ç»“æ„âœ¨)
>
> ```mysql
> desc t_1;
> /*
> 	è¯¥è¯­å¥ä¸ describe è¡¨å; show columns from è¡¨å;æ˜¯ä¸€æ ·çš„æ•ˆæœ
> */
> ```
>
> 

### 1ã€åˆ›å»º

```mysql
create table [æ•°æ®åº“å.]è¡¨å(
	å­—æ®µå å­—æ®µç±»å‹,
	...
    å­—æ®µå å­—æ®µç±»å‹
)è¡¨é€‰é¡¹;

#åˆ›å»ºæ–¹å¼ä¸€
use db_2;
create table t_2(
    name varchar(50),
    age int,
    gender varchar(10)
)[engine Innodb] [charset utf8MB4];

#åˆ›å»ºæ–¹å¼äºŒ
create table db_2.t_2(
    name varchar(50),
    age int,
    gender varchar(10)
)[engine Innodb] [charset utf8MB4];


#åˆ›å»ºä¸€ä¸ªä¸å·²æœ‰è¡¨ä¸€æ ·çš„æ•°æ®è¡¨
-- MySQLæä¾›äº†ä¸€ç§ä¾¿æ·çš„å¤åˆ¶æ¨¡å¼
create table è¡¨å like æ•°æ®åº“åå­—.è¡¨å
```

### 2ã€ä¿®æ”¹

**æ›´æ”¹å­—æ®µ**ï¼šæŒ‡é’ˆå¯¹è¡¨åˆ›å»ºå¥½åï¼Œé‡Œé¢å­—æ®µçš„å¢åˆ æ”¹

* å­—æ®µæ“ä½œåŒ…å«å­—æ®µåå­—ã€ç±»å‹å’Œå±æ€§çš„æ“ä½œ

* å­—æ®µæ“ä½œåˆ†ä¸ºå››ç±»

  * æ–°å¢å­—æ®µï¼šadd [column]
  * æ›´æ”¹å­—æ®µåï¼šchange 
    * å­—æ®µåæ›´æ”¹é€šå¸¸åªæ˜¯ä¿®æ”¹å­—æ®µåå­—ï¼Œä½†æ˜¯ä¹Ÿ<span style="color: red">å¿…é¡»è·Ÿéšè¯´æ˜ç±»å‹</span>

  * ä¿®æ”¹ç±»å‹ï¼šmodify
  * åˆ é™¤å­—æ®µï¼šdrop
    * å­—æ®µåˆ é™¤åœ¨åˆ é™¤å­—æ®µåçš„åŒæ—¶ä¼šåˆ é™¤<span style="color: red">å­—æ®µå¯¹åº”çš„æ•°æ®</span>ï¼Œè€Œä¸”ä¸å¯é€†

* å­—æ®µæ“ä½œè¿˜æœ‰ä½ç½®å¤„ç†

* å­—æ®µæ“ä½œé€šå¸¸æ˜¯åœ¨è¡¨å·²ç»å­˜åœ¨æ•°æ®åè¿›è¡Œ

* 

```mysql
#â‘ ä¿®æ”¹è¡¨å
rename table t_1 to t1;

#â‘¡ä¿®æ”¹è¡¨é€‰é¡¹
-- å­—ç¬¦é›†
alter table t1 charset utf8;

#â‘¢æ›´æ”¹å­—æ®µğŸ’–
##alter + add :å¢åŠ 
alter table è¡¨å add [column] å­—æ®µå å­—æ®µç±»å‹ [å­—æ®µå±æ€§] [å­—æ®µä½ç½®]
--
alter table t_3 add id int [first];
alter table t_3 add card varchar(18) [after name];

##alter + change :æ”¹å­—æ®µå
alter table è¡¨å change åŸå­—æ®µå æ–°å­—æ®µå å­—æ®µç±»å‹ [å­—æ®µå±æ€§] [ä½ç½®]
--
alter table t_3 change card sfz varchar(18);

##alter + modify :æ”¹å­—æ®µç±»å‹
alter table è¡¨å modify å­—æ®µå å­—æ®µç±»å‹ [å­—æ®µå±æ€§] [ä½ç½®]ï¼›
--
alter table t_3 modify sfz char(18) [after id];

##alter + drop :åˆ é™¤å­—æ®µ
alter table è¡¨å drop å­—æ®µå;
--
alter table t_3 drop age;
```



### 3ã€åˆ é™¤

```mysql
drop table t_1;
```



## æ‹“å±•ï¼š

å­˜å‚¨å¼•æ“æ˜¯æŒ‡æ•°æ®å­˜å‚¨å’Œç®¡ç†çš„æ–¹å¼

MySQLä¸­æä¾›äº†å¤šç§å­˜å‚¨å¼•æ“ï¼Œä¸€èˆ¬ä½¿ç”¨é»˜è®¤å­˜å‚¨å¼•æ“

* InnoDB
  * é»˜è®¤å­˜å‚¨å¼•æ“
  * æ”¯æŒäº‹åŠ¡å¤„ç†å’Œå¤–é”®
  * æ•°æ®ç»Ÿä¸€ç®¡ç†
* MyIsam
  * ä¸æ”¯æŒäº‹åŠ¡å’Œå¤–é”®
  * æ•°æ®ã€è¡¨ç»“æ„ã€ç´¢å¼•ç‹¬ç«‹ç®¡ç†
  * MySQL5.6ä»¥åä¸å†ç»´æŠ¤

## ä¸‰ã€å¸¸è§çš„æ•°æ®ç±»å‹

## å››ã€å¸¸è§çš„çº¦æŸç±»å‹
